<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <!-- ====== SEO UTAMA - WAJIB 100% ====== -->
  <title>Dunnak.com - Pesan Makanan & Jajanan Online Kalibening, Banjarnegara | Antar Cepat, Bayar di Tempat (COD)</title>
  <meta name="description" content="Pesan makanan enak di Kalibening & sekitarnya: nasi box, gorengan, minuman dingin, kue basah, camilan. Pengiriman cepat, bayar pas sampai (COD). Buka 24 jam!" />
  <meta name="keywords" content="pesan makanan kalibening, antar makanan kalibening, dunnak, dunnak.com, jajanan kalibening, cod kalibening, nasi box kalibening, gorengan antar, pesan online banjarnegara" />
  <meta name="author" content="Dunnak Indonesia" />
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
  <meta name="googlebot" content="index, follow, max-image-preview:large" />
  <link rel="canonical" href="https://dunnak.com/" />

  <!-- Geo Targeting (sangat penting untuk lokal SEO) -->
  <meta name="geo.region" content="ID-JT" />
  <meta name="geo.placename" content="Kalibening, Kabupaten Banjarnegara, Jawa Tengah" />
  <meta name="geo.position" content="-7.4167;109.5833" />
  <meta name="ICBM" content="-7.4167, 109.5833" />

  <!-- Open Graph Facebook / WhatsApp -->
  <meta property="og:title" content="Dunnak.com - Pesan Makanan Online Kalibening | Antar Cepat, COD" />
  <meta property="og:description" content="Makan atau jajan di Kalibening? Langsung pesan di Dunnak! Nasi box, gorengan, minuman, kue, semua ada. Bayar di tempat." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://dunnak.com/" />
  <meta property="og:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1UsHuVcQvFK-Np9l-ZixakqnZjx44/s1200/20251120_174337.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property评为="og:site_name" content="Dunnak.com" />
  <meta property="og:locale" content="id_ID" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Dunnak.com - Makanan & Jajanan Antar Kalibening" />
  <meta name="twitter:description" content="Pesan makanan favoritmu di Kalibening, bayar pas sampai (COD)" />
  <meta name="twitter:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s1200/20251120_174337.png" />

  <!-- Tambahan biar Google cepat index & suka banget -->
  <meta name="theme-color" content="#F97216" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="application-name" content="Dunnak" />
  <meta name="apple-mobile-web-app-title" content="Dunnak - Makanan Kalibening" />
  <meta name="format-detection" content="telephone=yes" />

  <!-- Favicon (tambahkan kalau belum punya) -->
  <link rel="icon" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s3264/20251120_174337.png" type="image/png" />

  <!-- JSON-LD Structured Data (INI YANG BIKIN GOOGLE JATUH CINTA - LocalBusiness + Restaurant) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Restaurant",
    "name": "Dunnak.com - Pesan Antar Makanan Kalibening",
    "url": "https://dunnak.com",
    "logo": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s3264/20251120_174337.png",
    "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s3264/20251120_174337.png",
    "description": "Platform pesan antar makanan dan jajanan no.1 di Kalibening & sekitarnya. Pengiriman cepat, bayar di tempat (COD).",
    "priceRange": "Rp10.000 - Rp100.000",
    "servesCuisine": ["Indonesia", "Makanan Ringan", "Minuman", "Gorengan", "Nasi Box"],
    "paymentAccepted": ["Cash"],
    "hasMenu": "https://dunnak.com",
    "openingHours": "Mo-Su 00:00-23:59",
    "telephone": "+62",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "JL. Raya Gununglangit - Kalibening",
      "addressLocality": "Kalibening",
      "addressRegion": "Banjarnegara",
      "postalCode": "53474",
      "addressCountry": "ID"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": -7.4167,
      "longitude": 109.5833
    },
    "areaServed": {
      "@type": "AdministrativeArea",
      "name": "Kecamatan Kalibening dan sekitarnya"
    },
    "sameAs": [
      "https://www.instagram.com/dunnakindonesia",
      "https://www.tiktok.com/@dunnakindonesia"
    ]
  }
  </script>

  <!-- Preconnect untuk kecepatan loading (Google suka situs cepat) -->
  <link rel="preconnect" href="https://dlnenwglsmfyhdysmqdc.supabase.co" />
  <link rel="preconnect" href="https://blogger.googleusercontent.com" />
</head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Dunnak.com - mau makan atau jajan semua ada di dunnak</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body.modal-open, body.sidebar-open {
      overflow: hidden;
    }
    #sidebar-backdrop {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
      z-index: 40;
    }
    #sidebar-backdrop.open {
      display: block;
    }
    #toast {
      position: fixed;
      top: 1rem;
      left: 50%;
      transform: translateX(-50%);
      max-width: 90%;
      z-index: 60;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
      font-size: 1rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      transition: opacity 0.3s ease, transform 0.3s ease;
      opacity: 0;
      pointer-events: none;
    }
    #toast.show {
      opacity: 1;
      pointer-events: auto;
    }
    #toast.success {
      background-color: #10b981;
      color: white;
    }
    #toast.error {
      background-color: #ef4444;
      color: white;
    }
    #toast i {
      font-size: 1.25rem;
    }
    #categories {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    #categories::-webkit-scrollbar {
      display: none;
    }
    #categories button {
      scroll-snap-align: start;
      flex: 0 0 auto;
      margin-right: 0.75rem;
    }
    #produk-grid {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x proximity;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
      scrollbar-color: #d1d5db transparent;
      padding-bottom: 1rem;
    }
    #produk-grid::-webkit-scrollbar {
      height: 8px;
    }
    #produk-grid::-webkit-scrollbar-thumb {
      background-color: #d1d5db;
      border-radius: 4px;
    }
    #produk-grid article {
      flex: 0 0 200px;
      margin-right: 1rem;
      scroll-snap-align: start;
    }
    #hero-slider {
      position: relation;
      overflow: hidden;
    }
    .slider-item {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }
    .slider-item.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .slider-dots {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.5rem;
    }
    .slider-dot {
      width: 10px;
      height: 10px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 30%;
      cursor: pointer;
    }
    .slider-dot.active {
      background: white;
    }
    body {
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }
    #search-container {
      position: sticky;
      top: 4.5rem;
      z-index: 30;
      padding: 0.75rem 1;
      background: transparent;
    }
    #search-button {
      cursor: pointer;
    }
    #search-wrapper {
      max-width: 600px;
      width: 100%;
      margin: 0 auto;
    }
    #ads-grid {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x proximity;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
      scrollbar-color: #d1d5db transparent;
      padding-bottom: 1rem;
    }
    #ads-grid::-webkit-scrollbar {
      height: 8px;
    }
    #ads-grid::-webkit-scrollbar-thumb {
      background-color: #d1d5db;
      border-radius: 4px;
    }
    #ads-grid article {
      flex: 0 0 200px;
      margin-right: 1rem;
      scroll-snap-align: start;
      position: relative;
      }
    .faq-item {
      background: white;
      border-radius: 0.5rem;
      overflow: hidden;
      margin-bottom: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    .faq-item summary {
      padding: 1rem;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.3s ease;
    }
    .faq-item summary:hover {
      background: #f9fafb;
    }
    .faq-item summary::after {
      content: '\f078';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      font-size: 0.875rem;
      color: #6b7280;
    }
    .faq-item[open] summary::after {
      content: '\f077';
    }
    .faq-item .faq-content {
      padding: 1rem;
      background: #f9fafb;
      font-size: 0.875rem;
      color: #4b5563;
    }
    .ad-label {
      position: absolute;
      top: 0.5rem;
      left: 0.5rem;
      background: rgba(30, 64, 175, 0.50);
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      font-weight: 500;
    }
    @media (min-width: 640px) {
      #ads-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }
      #ads-grid article {
        flex: none;
        margin-right: 0;
      }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
<script>
// === BUKA/TUTUP SILENT + HALAMAN TUTUP WARNA CERAH SESUAI TEMA DUNNAK ===
let JAM_BUKA = 18;   // Ubah angka ini saja (15 = 15:00 WIB)
let JAM_TUTUP = 21;  // Ubah angka ini saja (21 = 21:00 WIB)

document.addEventListener("DOMContentLoaded", () => {
  const getWIB = () => new Date(new Date().getTime() + new Date().getTimezoneOffset() * 60000 + 3600000*7);

  const now = getWIB();
  const h = now.getHours();

  if (h >= JAM_TUTUP || h < JAM_BUKA) {
    let next = new Date(now);
    next.setHours(JAM_BUKA, 0, 0, 0);
    if (h >= JAM_TUTUP) next.setDate(next.getDate() + 1);

    const update = () => {
      const diff = next - getWIB();
      if (diff <= 0) location.reload();
      const hh = String(Math.floor(diff / 3600000)).padStart(2,'0');
      const mm = String(Math.floor((diff % 3600000) / 60000)).padStart(2,'0');
      const ss = String(Math.floor((diff % 60000) / 1000)).padStart(2,'0');
      document.getElementById("timer").textContent = `${hh}:${mm}:${ss}`;
    };

    document.body.innerHTML = `
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

      <div style="min-height:100dvh;background:linear-gradient(#F97216,#F97216,#F97216);color:#065f46;display:grid;place-items:center;padding:1.5rem;font-family:system-ui,-apple-system,sans-serif;">
        <div style="width:100%;max-width:420px;background:white;border-radius:24px;padding:3rem 2rem;box-shadow:0 20px 40px rgba(16,185,129,0.15);text-align:center;overflow:hidden;position:relative;">

          <!-- Background accent halus -->
          <div style="position:absolute;top:0;left:0;right:0;height:8px;background:linear-gradient(90deg,#10b981,#34d399,#6ee7b7);"></div>

          <!-- Logo -->
          <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg1Av8G3Ot3rB-4gLjJUIEgw2t3vKlv_SsE1Wormsiu1MtHLQTwcaQoOln1g_vJH5WWcZg3F0z6OKbifsgGf2lVgUwdGfkpdHB4HSNvNxKCdE2sCoT3qniHB3eCEHGwrYDiZ3O5QG6RrFXXVx0osj0zxzCTUkNLeeAhlUs-a1MvdJE7Ow_G4vL7QnbhkbQF/s3264/20251123_152553.png" 
               alt="Dunnak.com" 
               style="width:88px;height:88px;border-radius:50%;margin:0 auto 1.5rem;border:4px solid #ecfdf5;box-shadow:0 10px 30px rgba(16,185,129,0.25);object-fit:cover;">

          <h2 style="font-size:2rem;font-weight:800;margin:0 0 0.5rem;color:#065f46;">Sedang Tutup</h2>
          <p style="font-size:1.05rem;color:#4b5563;margin:0 0 2rem;line-height:1.6;">Kami akan kembali melayani pesanan pada jam operasional berikut</p>

          <!-- Jam Operasional -->
          <div style="background:#ecfdf5;border:2px solid #a7f3d0;border-radius:16px;padding:1.4rem;margin:1.5rem 0;">
            <p style="font-size:0.95rem;color:#059669;margin:0 0 0.5rem;font-weight:600;">Jam Operasional Setiap Hari</p>
            <p style="font-size:2.2rem;font-weight:900;color:#065f46;margin:0;">
              ${JAM_BUKA.toString().padStart(2,'0')}:00 – ${JAM_TUTUP.toString().padStart(2,'0')}:00 WIB
            </p>
          </div>

          <!-- Countdown -->
          <p style="font-size:1rem;color:red;margin:1.8rem 0 0.6rem;font-weight:600;">Buka kembali dalam</p>
          <div id="timer" style="font-size:3.4rem;font-weight:900;color:#059669;background:#ecfdf5;padding:0.8rem 1.2rem;border-radius:14px;display:inline-block;min-width:280px;letter-spacing:3px;box-shadow:0 8px 25px rgba(16,185,129,0.2);">
            00:00:00
          </div>

          <!-- Sosial Media (Ikon Asli) -->
          <div style="margin-top:2.8rem;display:flex;gap:1.8rem;justify-content:center;">
            <a href="https://instagram.com/dunnakindonesia" target="_blank" style="color:#E4405F;font-size:2.2rem;transition:transform .25s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://tiktok.com/@dunnakindonesia" target="_blank" style="color:#000;font-size:2.2rem;transition:transform .25s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
              <i class="fab fa-tiktok"></i>
            </a>
            <a href="https://www.youtube.com/channel/UCUfAjAXXnZHz8GM7u8JOq8w" target="_blank" style="color:#f00;font-size:2.2rem;transition:transform .25s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
              <i class="fab fa-youtube"></i>
            </a>
          </div>

          <p style="margin-top:2.5rem;font-size:0.85rem;color:#6b7280;">
            © 2025 Dunnak.com
          </p>
        </div>
      </div>
    `;

    update();
    setInterval(update, 1000);

    // Anti-bypass tetap aktif
    ["contextmenu","selectstart","dragstart"].forEach(e=>document.addEventListener(e,ev=>ev.preventDefault()));
    document.onkeydown = e => {
      if(e.key=="F12"||e.ctrlKey&&(e.shiftKey||e.key.toLowerCase()=="u")) e.preventDefault();
    };

    throw "Tutup otomatis";
  }
  // Saat buka → website normal, tanpa banner sama sekali
});
  
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', e => {
      if (
        e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && ['I', 'C', 'J'].includes(e.key)) ||
        (e.ctrlKey && e.key === 'U')
      ) {
        e.preventDefault();
      }
    });
  </script>
  <!-- NAVBAR -->
  <header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s3264/20251120_174337.png" alt="Logo dunak" class="h-10 w-auto" onerror="this.style.display='none'"/>
        <div>
          <div class="text-lg font-semibold"></div>
          <div class="text-xs text-gray-500"></div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-3">
        <button id="btn-wishlist" class="text-sm px-3 py-2 rounded-lg border border-gray-200 hover:bg-emerald-50">Suggeng rawuh</button>
      </nav>
      <button id="mobile-menu-btn" class="md:hidden p-2">
        <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
      </button>
    </div>
  </header>
 <!-- SEARCH BAR + VOICE SEARCH (MIKROFON) – SUPER RESPONSIF & PROFESIONAL -->
<div id="search-container" class="max-w-5xl mx-auto px-4 py-8">
  <div class="relative group">
    <!-- Glow Halus Saat Fokus -->
    <div class="absolute -inset-1 bg-gradient-to-r from-orange-500 to-teal-1000 rounded-3xl blur-xl opacity-0 group-focus-within:opacity-50 transition duration-500 pointer-events-none"></div>
    
    <!-- Search Box Utama -->
    <div class="relative bg-white rounded-3xl shadow-lg border border-gray-200 overflow-hidden transition-all duration-300 group-focus-within:border-orange-500 group-focus-within:shadow-2xl">
      <div class="flex items-center">
        <!-- Ikon Kaca Pembesar -->
        <div class="pl-5 pr-3">
          <svg id="search-button" class="w-6 h-6 text-orange-500 transition-transform duration-300 group-focus-within:scale-110" 
               fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" 
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
        </div>

        <!-- Input Field -->
        <input id="search" 
               type="search" 
               placeholder="Cari makanan atau jajan" 
               autocomplete="off"
               class="w-full py-4 pr-4 pl-2 text-base md:text-lg font-medium text-gray-800 placeholder-gray-400 focus:outline-none bg-transparent"
               style="caret-color: #10b981;">

        <!-- Tombol Mikrofon (Voice Search) -->
        <button id="voice-search-btn" 
                class="mr-5 text-gray-500 hover:text-emerald-500 focus:text-emerald-500 transition-all duration-300"
                aria-label="Pencarian dengan suara">
          <svg id="mic-icon" class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" 
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
          </svg>

          <!-- Animasi Gelombang Suara Saat Aktif -->
          <div id="voice-wave" class="absolute inset-0 flex items-center justify-center opacity-0 pointer-events-none">
            <div class="flex gap-1">
              <span class="voice-bar bg-emerald-600"></span>
              <span class="voice-bar bg-emerald-600 animation-delay-100"></span>
              <span class="voice-bar bg-emerald-600 animation-delay-200"></span>
              <span class="voice-bar bg-emerald-600 animation-delay-300"></span>
              <span class="voice-bar bg-emerald-600 animation-delay-400"></span>
            </div>
          </div>
        </button>
      </div>
    </div>
  </div>
</div>

<script>
// === VOICE SEARCH + ANIMASI GELOMBANG SUARA (BEKERJA DI SEMUA DEVICE MODERN) ===
const searchInput = document.getElementById("search");
const voiceBtn = document.getElementById("voice-search-btn");
const micIcon = document.getElementById("mic-icon");
const voiceWave = document.getElementById("voice-wave");
let isListening = false;

if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.lang = "id-ID";
  recognition.continuous = false;
  recognition.interimResults = false;

  voiceBtn.addEventListener("click", () => {
    if (isListening) {
      recognition.stop();
      return;
    }

    recognition.start();
    isListening = true;

    // Ganti ikon mikrofon jadi animasi gelombang
    micIcon.classList.add("opacity-0");
    voiceWave.classList.remove("opacity-0");
    voiceWave.classList.add("opacity-100");

    showToast("bicara sekarang!", "success");
  });

  recognition.onresult = (event) => {
    const result = event.results[0][0].transcript;
    searchInput.value = result;
    searchInput.focus();
    performSearch(); // langsung cari
    showToast(`Mencari..: "${result}"`, "success");
  };

  recognition.onend = () => {
    isListening = false;
    micIcon.classList.remove("opacity-0");
    voiceWave.classList.remove("opacity-100");
    voiceWave.classList.add("opacity-0");
  };

  recognition.onerror = () => {
    isListening = false;
    micIcon.classList.remove("opacity-0");
    voiceWave.classList.remove("opacity-100");
    voiceWave.classList.add("opacity-0");
    showToast("Gagal mendengar suara. Coba lagi.", "error");
  };
} else {
  // Sembunyikan tombol kalau browser tidak support
  voiceBtn.style.display = "none";
}

// Enter = langsung cari
searchInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") performSearch();
});
</script>

<style>
  /* Glow halus saat fokus */
  #search-container:focus-within .bg-gradient-to-r {
    opacity: 0.5 !important;
  }

  /* Animasi Gelombang Suara */
  .voice-bar {
    width: 4px;
    height: 4px;
    border-radius: 2px;
    animation: voiceWave 1.5s ease-in-out infinite;
  }

  @keyframes voiceWave {
    0%, 100% { height: 4px; transform: translateY(0); }
    50% { height: 28px; transform: translateY(-12px); }
  }

  .animation-delay-100 { animation-delay: 0.1s; }
  .animation-delay-200 { animation-delay: 0.2s; }
  .animation-delay-300 { animation-delay: 0.3s; }
  .animation-delay-400 { animation-delay: 0.4s; }

  /* Responsif di HP kecil */
  @media (max-width: 480px) {
    #search { font-size: 1rem !important; padding-top: 1rem !important; padding-bottom: 1rem !important; }
    #voice-search-btn svg { width: 1.6rem !important; height: 1.6rem !important; }
    .voice-bar { width: 3px; }
    @keyframes voiceWave { 50% { height: 20px; transform: translateY(-8px); } }
  }
</style>
<!-- MOBILE SIDEBAR -->
  <div id="sidebar-backdrop"></div>
  <div id="mobile-sidebar" class="fixed inset-y-0 right-0 z-50 w-64 bg-white shadow-lg translate-x-full transition duration-300 ease-in-out md:hidden">
    <div class="flex justify-end p-4">
      <button id="close-sidebar" class="p-2">
        <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none">
          <path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <nav class="flex flex-col p-4 space-y-4">
      <a href="#" class="text-sm font-medium hover:text-emerald-600">Beranda</a>
      <a href="#" class="text-sm font-medium hover:text-emerald-600">Menu</a>
      <a href="#" class="text-sm font-medium hover:text-emerald-600">Wishlist</a>
      <a href="#" class="text-sm font-medium hover:text-emerald-600">Kontak</a>
    </nav>
  </div>
<!-- POPUP PROFESIONAL DUNNAK.COM – WELCOME & INFO PENTING -->
<div id="welcome-popup" class="fixed inset-0 z-[9999] hidden flex items-center justify-center px-4 py-8 overflow-y-auto">
  <div class="absolute inset-0 bg-black/60 backdrop-blur-md" id="popup-backdrop"></div>
  
  <!-- Card Popup -->
  <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl mx-auto overflow-hidden">
    <!-- Gambar Header dari SRC (ganti link sesuka hati) -->
    <div class="relative">
      <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhY8u8V8j9V0k1w2x3y4z5A6B7C8D9E0F1G2H3I4J5K6L7M8N9O0P1Q2R3S4T5U6V7W8X9Y0Z1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7A8B9C0D1E2F3G4H5I6J7K8L9M0/s1920/welcome-dunnak-2025.jpg" 
           alt="Selamat Datang di Dunnak.com" 
           class="w-full h-64 md:h-80 lg:h-96 object-cover object-center">
      <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
      
      <!-- Teks di Atas Gambar -->
      <div class="absolute bottom-0 left-0 right-0 p-6 md:p-10 text-white">
        <h2 class="text-3xl md:text-5xl font-black leading-tight">Selamat Datang di Dunnak</h2>
        <p class="text-lg md:text-2xl mt-3 font-medium opacity-95">Platform pengantaran makanan resmi Kalibening & sekitarnya</p>
      </div>
    </div>

    <!-- Konten Informasi -->
    <div class="p-6 md:p-10">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-emerald-100 rounded-2xl flex items-center justify-center">
            <svg class="w-10 h-10 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <h4 class="font-bold text-gray-800">Pengantaran Cepat</h4>
          <p class="text-sm text-gray-600 mt-2">20–40 menit sampai ke alamat Anda</p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-emerald-100 rounded-2xl flex items-center justify-center">
            <svg class="w-10 h-10 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
            </svg>
          </div>
          <h4 class="font-bold text-gray-800">Bayar di Tempat</h4>
          <p class="text-sm text-gray-600 mt-2">Transaksi aman dengan sistem COD</p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-emerald-100 rounded-2xl flex items-center justify-center">
            <svg class="w-10 h-10 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>
          </div>
          <h4 class="font-bold text-gray-800">Layanan 24 Jam</h4>
          <p class="text-sm text-gray-600 mt-2">Pesan kapan saja, kami siap antar</p>
        </div>
      </div>

      <div class="text-center">
        <a href="#produk-grid" 
           class="inline-flex items-center gap-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold text-lg px-10 py-5 rounded-full shadow-xl hover:shadow-2xl transform hover:scale-105 transition duration-300">
          Jelajahi Menu Sekarang
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
          </svg>
        </a>
      </div>

      <p class="text-center text-xs text-gray-500 mt-8">
        Terima kasih telah memilih Dunnak.com — startup lokal kebanggaan Kalibening
      </p>
    </div>

    <!-- Tombol Close -->
    <button id="popup-close" class="absolute top-4 right-4 bg-white/20 hover:bg-white/40 text-white w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-md transition shadow-lg">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>
  </div>
</div>

<script>
// === POPUP WELCOME PROFESIONAL – JADWAL & ZOOM-PROOF ===
const TANGGAL_MULAI = "0000-00-00";  // Kosongkan jika selalu muncul
const TANGGAL_SELESAI = "0000-00-00"; // Kosongkan jika selalu muncul
const JAM_MULAI = null;   // null = selalu
const JAM_SELESAI = null; // null = selalu

function getWIB() {
  const n = new Date();
  return new Date(n.getTime() + n.getTimezoneOffset() * 60000 + 3600000 * 7);
}

function isWithinSchedule() {
  const now = getWIB();
  const today = now.toISOString().split("T")[0];
  const hour = now.getHours();

  if (TANGGAL_MULAI && today < TANGGAL_MULAI) return false;
  if (TANGGAL_SELESAI && today > TANGGAL_SELESAI) return false;
  if (JAM_MULAI !== null && JAM_SELESAI !== null && (hour < JAM_MULAI || hour >= JAM_SELESAI)) return false;

  return true;
}

// Tampilkan popup
setTimeout(() => {
  if (isWithinSchedule()) {
    document.getElementById("welcome-popup").classList.remove("hidden");
  }
}, 1500);

// Tutup popup
document.getElementById("popup-close").onclick = () => document.getElementById("welcome-popup").classList.add("hidden");
document.getElementById("popup-backdrop").onclick = () => document.getElementById("popup-close").click();

// Zoom-proof & responsif
const popupCard = document.querySelector("#welcome-popup > div.relative");
if (popupCard) {
  const resizeObserver = new ResizeObserver(() => {
    const vh = window.innerHeight;
    const cardH = popupCard.offsetHeight;
    if (cardH > vh * 0.92) {
      popupCard.style.transform = `scale(${vh * 0.88 / cardH})`;
    } else {
      popupCard.style.transform = "scale(1)";
    }
  });
  resizeObserver.observe(document.body);
}
</script>
<!-- HERO SLIDER FINAL – SUPER RESPONSIF & AMAN DI SEMUA DEVICE & BROWSER -->
<section class="w-full bg-gray-900">
  <div class="max-w-screen-2xl mx-auto">
    <div id="hero-slider" class="relative">

      <!-- Slide 1 -->
      <div class="slider-item active">
        <div class="relative w-full pb-[56.25%] sm:pb-[50%] md:pb-[45%] lg:pb-[40%] xl:pb-[35%] overflow-hidden bg-black">
          <picture>
            <source media="(min-width: 1024px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s1920/20251120_194346.png">
            <source media="(min-width: 768px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s1200/20251120_194346.png">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s800/20251120_194346.png" 
                 alt="Dunnak.com" 
                 class="absolute inset-0 w-full h-full object-cover object-center"
                 loading="lazy">
          </picture>
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="slider-item">
        <div class="relative w-full pb-[56.25%] sm:pb-[50%] md:pb-[45%] lg:pb-[40%] xl:pb-[35%] overflow-hidden bg-black">
          <picture>
            <source media="(min-width: 1024px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s1920/20251120_194346.png">
            <source media="(min-width: 768px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s1920/20251120_194346.png">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQBQCELtF3l2cvUL_5GMk-bjvDRB0_naRR53fqY9lLgrjVSOf1uh1cVQspa5fd0fLnLGpYUN_23IUMLjeuCAZjnYjB78BM8lhDe05t2aTMXcU9Fl3P7VNTJh2TmwbuCczQVMfQCxVBEEdadjCIzZ546blJRtHkahyphenhyphenoj7wBKPHTsf3XQx7JM3Qp9zxMlbAE/s1920/20251120_194346.png" 
                 alt="Dunnak.com" 
                 class="absolute inset-0 w-full h-full object-cover object-center"
                 loading="lazy">
          </picture>
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="slider-item">
        <div class="relative w-full pb-[56.25%] sm:pb-[50%] md:pb-[45%] lg:pb-[40%] xl:pb-[35%] overflow-hidden bg-black">
          <picture>
            <source media="(min-width: 1024px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsk84Gkrgw4y_4bAZkHguOEg3fXoc9kfaV-vkMPY_VOLZgeJBjhtveCFPAVS4dDyjpQ-nC6akVgcxUtnTglMVJpyDfQmF035rS4HvbI3dQIOViG1l6DV5nM3T1Acl8C4aY6KwlF5UPv0kRQU7qe3fc4FX4c04znYL2MPdDQkMYSC1eGFXJcHCQFkmNudVE/s1920/20251120_204805.png">
            <source media="(min-width: 768px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsk84Gkrgw4y_4bAZkHguOEg3fXoc9kfaV-vkMPY_VOLZgeJBjhtveCFPAVS4dDyjpQ-nC6akVgcxUtnTglMVJpyDfQmF035rS4HvbI3dQIOViG1l6DV5nM3T1Acl8C4aY6KwlF5UPv0kRQU7qe3fc4FX4c04znYL2MPdDQkMYSC1eGFXJcHCQFkmNudVE/s1200/20251120_204805.png">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsk84Gkrgw4y_4bAZkHguOEg3fXoc9kfaV-vkMPY_VOLZgeJBjhtveCFPAVS4dDyjpQ-nC6akVgcxUtnTglMVJpyDfQmF035rS4HvbI3dQIOViG1l6DV5nM3T1Acl8C4aY6KwlF5UPv0kRQU7qe3fc4FX4c04znYL2MPdDQkMYSC1eGFXJcHCQFkmNudVE/s800/20251120_204805.png" 
                 alt="Dunnak.com" 
                 class="absolute inset-0 w-full h-full object-cover object-center"
                 loading="lazy">
          </picture>
        </div>
      </div>

      <!-- Slide 4 -->
      <div class="slider-item">
        <div class="relative w-full pb-[56.25%] sm:pb-[50%] md:pb-[45%] lg:pb-[40%] xl:pb-[35%] overflow-hidden bg-black">
          <picture>
            <source media="(min-width: 1024px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s1920/20251120_174337.png">
            <source media="(min-width: 768px)" 
                    srcset="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s1200/20251120_174337.png">
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s800/20251120_174337.png" 
                 alt="Dunnak.com" 
                 class="absolute inset-0 w-full h-full object-cover object-center"
                 loading="lazy">
          </picture>
        </div>
      </div>

      <!-- DOTS MINIMAL – TENGAH BAWAH, TIDAK MENGGANGGU -->
      <div class="slider-dots absolute inset-x-0 bottom-6 flex justify-center z-10">
        <div class="flex gap-3 bg-black/40 backdrop-blur-sm px-5 py-2.5 rounded-full">
          <span class="dot w-2 h-2 bg-white rounded-full cursor-pointer transition-all active"></span>
          <span class="dot w-2 h-2 bg-white/70 rounded-full cursor-pointer transition-all"></span>
          <span class="dot w-2 h-2 bg-white/70 rounded-full cursor-pointer transition-all"></span>
          <span class="dot w-2 h-2 bg-white/70 rounded-full cursor-pointer transition-all"></span>
        </div>
      </div>
    </div>
  </div>
</section>
  <!-- ADS SECTION -->
  <section class="max-w-6xl mx-auto px-4 py-6">
    <h2 class="text-1xl md:text-1xl font-bold mb-4">Penawaran terkini</h2>
    <div id="ads-grid" class="flex gap-4"></div>
  </section>
  <!-- CATEGORY AND FILTER -->
  <section class="max-w-6xl mx-auto px-4 py-4">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Kategori</h2>
      <div class="flex gap-2">
        <select id="price-filter" class="border border-gray-200 rounded-md px-3 py-2 text-sm">
          <option value="">Filter Harga</option>
          <option value="0-25000">Rp0 - Rp25.000</option>
          <option value="25001-50000">Rp25.001 - Rp50.000</option>
          <option value="50001-100000">Rp50.001 - Rp100.000</option>
          <option value="100001+">> Rp100.000</option>
        </select>
      </div>
    </div>
    <div id="categories" class="flex gap-3 py-3"></div>
  </section>
  <!-- MAIN GRID -->
  <main class="max-w-6xl mx-auto px-4 py-6">
    <h2 class="text-2xl md:text-2xl font-bold mb-6">Menu Utama</h2>
    <div id="produk-grid" class="flex gap-4"></div>
  </main>

<!-- ADVANTAGES SECTION – PROFESIONAL + HEROICONS -->
<section class="bg-gradient-to-b from-gray-50 via-white to-orange-200 py-20">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <!-- Judul -->
    <div class="text-center mb-16">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-black text-gray-900 leading-tight">
        Mengapa Memilih Dunnak?
      </h2>
      <p class="mt-4 text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto">
        Layanan pengantaran makanan berbasis teknologi dengan standar tertinggi untuk kenyamanan Anda.
      </p>
    </div>

    <!-- Grid Keunggulan -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10 lg:gap-14">
      
      <!-- Item 1 – Mudah -->
   <div class="group bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 p-8 lg:p-10 text-center border border-gray-100 hover:border-emerald-200">
        <div class="w-20 h-20 mx-auto mb-6 bg-orange-500 rounded-2xl flex items-center justify-center group-hover:bg-orange-500 transition-colors duration-300"
          <!-- Heroicons: User Group (mudah digunakan semua orang) -->
          <svg class="w-12 h-12 text-rose-100 group-hover:text-white transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-900 mb-3">Mudah Digunakan</h3>
        <p class="text-gray-600 leading-relaxed">
          Antarmuka intuitif yang dirancang untuk semua kalangan, termasuk pengguna baru sekalipun.
        </p>
      </div>

      <!-- Item 2 – Cepat -->
      <div class="group bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 p-8 lg:p-10 text-center border border-gray-100 hover:border-emerald-200">
        <div class="w-20 h-20 mx-auto mb-6 bg-orange-500 rounded-2xl flex items-center justify-center group-hover:bg-orange-500 transition-colors duration-300">
          <!-- Heroicons: Lightning Bolt (cepat) -->
          <svg class="w-12 h-12 text-rose-100 group-hover:text-white transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-900 mb-3">Pengantaran Cepat</h3>
        <p class="text-gray-600 leading-relaxed">
          Sistem logistik teroptimasi memastikan pesanan Anda tiba dalam waktu singkat, siang maupun malam.
        </p>
      </div>

      <!-- Item 3 – Aman -->
      <div class="group bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 p-8 lg:p-10 text-center border border-gray-100 hover:border-emerald-200">
        <div class="w-20 h-20 mx-auto mb-6 bg-orange-500 rounded-2xl flex items-center justify-center group-hover:bg-orange-500 transition-colors duration-300">
          <!-- Heroicons: Shield Check (aman) -->
          <svg class="w-12 h-12 text-rose-100 group-hover:text-white transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-900 mb-3">Transaksi Aman</h3>
        <p class="text-gray-600 leading-relaxed">
          Sistem pembayaran di tempat (COD) yang terjamin aman dan terpercaya, tanpa risiko.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Heroicons CDN (gratis & resmi) -->
<script src="https://unpkg.com/heroicons@2.1.1/dist/heroicons.min.js"></script>
<!-- IKLAN GAMBAR CANGGIH – BISA DIJADWALKAN TANGGAL + RESPONSIF SEMUA DEVICE -->
<div id="ad-banner" class="fixed inset-x-0 bottom-0 z-[9998] translate-y-full transition-all duration-800 ease-out">
  <div class="relative bg-black/80 backdrop-blur-xl shadow-2xl overflow-hidden">
    
    <!-- Tombol Close -->
    <button id="close-ad" class="absolute top-3 right-3 z-10 text-white/80 hover:text-white transition">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>

    <!-- Label "Iklan" -->
    <div class="absolute top-3 left-3 z-10 bg-black/60 text-white text-xs font-bold px-3 py-1 rounded-full backdrop-blur">
      Iklan
    </div>

    <!-- Konten Iklan -->
    <div class="flex flex-col lg:flex-row items-center justify-between max-w-7xl mx-auto">
      <!-- GAMBAR IKLAN – GANTI SRC DI SINI -->
      <a href="https://wa.me/6281234567890?text=Saya%20dari%20iklan%20Dunnak" target="_blank" class="block w-full lg:w-auto">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s1600/iklan-dunnak-2025.jpg" 
             alt="Iklan Dunnak.com" 
             class="w-full h-auto object-cover object-center transition-transform duration-700 hover:scale-105">
      </a>

      <!-- Teks + CTA (opsional) -->
      <div class="p-6 lg:p-10 text-white text-center lg:text-left max-w-lg">
        <h3 class="text-2xl lg:text-3xl font-black mb-3">Promo Spesial dari Sponsor</h3>
        <p class="text-base lg:text-lg opacity-90 mb-6">
          Dapatkan penawaran eksklusif hanya untuk pengguna Dunnak!
        </p>
        <a href="https://wa.me/6281234567890?text=Saya%20dari%20iklan%20Dunnak" target="_blank"
           class="inline-flex items-center gap-3 bg-emerald-500 hover:bg-emerald-600 text-white font-bold px-8 py-4 rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition">
          Hubungi Sekarang
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</div>

<script>
// === IKLAN GAMBAR CANGGIH – BISA DIJADWALKAN TANGGAL + RESPONSIF MAKSIMAL ===
// UBAH TANGGAL DI SINI SAJA (format: "YYYY-MM-DD")
const IKLAN_MULAI = "2025-11-23";  // Tanggal mulai muncul (kosongkan = selalu)
const IKLAN_SELESAI = "2025-12-7"; // Tanggal selesai (kosongkan = selamanya)

function isWithinAdSchedule() {
  const today = new Date().toISOString().split("T")[0];
  
  if (IKLAN_MULAI && today < IKLAN_MULAI) return false;
  if (IKLAN_SELESAI && today > IKLAN_SELESAI) return false;
  
  return true;
}

function showAdBanner() {
  const banner = document.getElementById("ad-banner");
  if (banner && isWithinAdSchedule()) {
    setTimeout(() => {
      banner.classList.remove("translate-y-full");
    }, 1200);

    // Tutup otomatis setelah 18 detik
    setTimeout(() => {
      if (!banner.classList.contains("translate-y-full")) {
        banner.classList.add("translate-y-full");
      }
    }, 18000);
  }
}

// Close manual
document.getElementById("close-ad")?.addEventListener("click", () => {
  document.getElementById("ad-banner").classList.add("translate-y-full");
});

// Jalankan saat halaman selesai dimuat
window.addEventListener("load", showAdBanner);
</script>

<style>
  /* Responsif gambar iklan */
  #ad-banner img {
    max-height: 80dvh;
    width: auto;
    max-width: 100%;
  }

  /* HP kecil – layout vertikal */
  @media (max-width: 768px) {
    #ad-banner .p-6 { padding: 1.5rem !important; }
    #ad-banner h3 { font-size: 1.5rem !important; }
    #ad-banner p { font-size: 0.95rem !important; }
    #ad-banner a { padding: 1rem 2rem !important; font-size: 1rem !important; }
  }

  /* Monitor besar – gambar lebih besar */
  @media (min-width: 1536px) {
    #ad-banner img { max-height: 85dvh; }
  }
</style>
   <!-- FAQ SECTION -->
  <section id="faq" class="max-w-7xl mx-auto px-4 py-8">
    <h2 class="text-1xl md:text-1xl font-bold text-center mb-6">Pertanyaan yang sering diajukan</h2>
    <div class="max-w-3xl mx-auto">
      <details class="faq-item">
        <summary>Bagaimana cara memesan makanan di Dunnak?</summary>
        <div class="faq-content">
          Untuk memesan makanan, cari menu yang diinginkan menggunakan kolom pencarian atau jelajahi kategori. Klik produk untuk melihat detail, pilih jumlah, lalu klik "Pesan Sekarang" untuk mengisi data pengiriman dan menyelesaikan pesanan.
        </div>
      </details>
      <details class="faq-item">
        <summary>Apa saja metode pembayaran yang tersedia?</summary>
        <div class="faq-content">
          Kami mendukung metode pembayaran langsung saat pengiriman (COD).
        </div>
      </details>
      <details class="faq-item">
        <summary>Berapa lama waktu pengiriman?</summary>
        <div class="faq-content">
          Waktu pengiriman bervariasi tergantung lokasi, tetapi kami berupaya mengirimkan pesanan secepat mungkin.
        </div>
      </details>
      <details class="faq-item">
        <summary>Bagaimana jika ada masalah dengan pesanan saya?</summary>
        <div class="faq-content">
          Jika ada masalah, hubungi kami melalui email di halo@dunnak.com atau telepon ke tim kami akan membantu menyelesaikan masalah Anda.
        </div>
      </details>
      <details class="faq-item">
        <summary>Jangkauan layanan Dunnak dimana saja?</summary>
        <div class="faq-content">
          Kami sedang memperluas jangkauan layanan kami. Saat ini, dunnak.com beroprasi di kecamatan kalibening dan sekitarnya.
        </div>
      </details>
    </div>
  </section>
 <!-- CTA SECTION – FINAL 2025) -->
<section class="bg-gradient-to-br from-orange-500 via-orange-500 to-teal-1000 py-24 lg:py-32 overflow-hidden relative">
  <!-- Background Pattern Halus -->
  <div class="absolute inset-0 opacity-20">
    <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.4\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
  </div>

  <div class="relative max-w-5xl mx-auto px-6 text-center">
    <!-- Judul Utama -->
    <h2 class="text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-black text-white leading-tight drop-shadow-2xl">
      Jajan atau Makan?
    </h2>
    <p class="mt-6 text-xl sm:text-2xl lg:text-3xl text-emerald-100 font-medium max-w-4xl mx-auto drop-shadow-lg">
      Pesan sekarang dan nikmati hidangan favoritmu dengan pengiriman cepat & aman!
    </p>

    <!-- Sub-benefit -->
    <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-6 text-emerald-100">
      <div class="flex items-center gap-3">
        <svg class="w-8 h-8 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span class="text-lg font-medium">Antar dalam 20–40 menit</span>
      </div>
      <div class="flex items-center gap-3">
        <svg class="w-8 h-8 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span class="text-lg font-medium">Bayar di tempat (COD)</span>
      </div>
    </div>

    <!-- Tombol CTA Utama -->
    <div class="mt-12">
      <button id="cta-button"
              class="group relative inline-flex items-center gap-4 bg-white text-black-900 font-black text-2xl sm:text-3xl lg:text-4xl px-12 sm:px-16 py-6 sm:py-8 rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-500 overflow-hidden">
        <!-- Efek Ripple -->
        <span class="absolute inset-0 bg-orange-500 opacity-0 group-hover:opacity-30 transition-opacity duration-500"></span>
        
        <span class="relative z-10 flex items-center gap-4">
          Pesan Sekarang
          <svg class="w-10 h-10 text-orange-500 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
          </svg>
        </span>
      </button>
    </div>

    <!-- Trust Badge -->
    <p class="mt-10 text-emerald-100 text-sm sm:text-base font-medium">
      Dipercaya oleh <strong class="text-white font-bold">15+</strong> pelanggan
    </p>
  </div>
</section>

<script>
// Tombol CTA → scroll halus ke menu produk
document.getElementById("cta-button")?.addEventListener("click", () => {
  const produkGrid = document.getElementById("produk-grid");
  if (produkGrid) {
    produkGrid.scrollIntoView({ behavior: "smooth", block: "start" });
  }
});
</script>
<!-- FOOTER DUNNAK.COM –) -->
<footer class="bg-gray-900 text-gray-300">
  <div class="max-w-7xl mx-auto px-6 lg:px-8 py-16 lg:py-20">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-12">

      <!-- Logo & Tagline -->
      <div class="lg:col-span-4">
        <div class="flex items-center gap-4 mb-7">
          <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi6-JhY6g9H4ggtXPHCO7pTjErtprKfSRlgttoFgT4LcX-O2ROw-oxj7Ntr3r7cY6TdN5AMrwDJ7hyfyU1DI4ASMZ_Mw2chnMaXIDiWHZ-8X3H1Lhz-PjI7KIh2716aY_g4FIxL2Fe4OxBsIEAyE52WrLYS-p1La1U_mMHuVcQvFK-Np9l-ZixakqnZjx44/s3264/20251120_174337.png"
               alt="Dunnak" class="h-14 w-auto" onerror="this.style.display='none'">
        </div>
        <p class="text-gray-400 mt-6 leading-relaxed max-w-md">Startup lokal yang menghubungkan pecinta kuliner Kalibening dengan makanan favorit mereka — cepat, mudah, dan terjangkau.
        </p>

        <!-- Social Media -->
        <div class="flex gap-5 mt-8">
          <a href="https://instagram.com/dunnakindonesia" target="_blank" class="text-gray-400 hover:text-emerald-400 transition">
            <i class="fab fa-instagram text-2xl"></i>
          </a>
          <a href="https://tiktok.com/@dunnakindonesia" target="_blank" class="text-gray-400 hover:text-emerald-400 transition">
            <i class="fab fa-tiktok text-2xl"></i>
          </a>
          <a href="https://youtube.com/@dunnakindonesia" target="_blank" class="text-gray-400 hover:text-emerald-400 transition">
            <i class="fab fa-youtube text-2xl"></i>
          </a>
        </div>
      </div>

      <!-- Layanan -->
      <div class="lg:col-span-2">
        <h3 class="text-lg font-bold text-white mb-6">Layanan</h3>
        <ul class="space-y-4 text-gray-400">
          <li><a href="#" class="hover:text-orange-500 transition">Pengantaran Cepat</a></li>
          <li><a href="#" class="hover:text-orange-500 transition">Bayar di Tempat</a></li>
          <li><a href="#" class="hover:text-orange-500 transition">Real-time Tracking</a></li>
        </ul>
      </div>

      <!-- Perusahaan -->
      <div class="lg:col-span-2">
        <h3 class="text-lg font-bold text-white mb-6">Perusahaan</h3>
        <ul class="space-y-4 text-gray-400">
          <li><a href="#" class="hover:text-orange-500 transition">Tentang Kami</a></li>
          <li><a href="#" class="hover:text-orange-500transition">Karir</a></li>
          <li><a href="#" class="hover:text-orange-500transition">Blog</a></li>
        </ul>
      </div>

      <!-- Kontak (Call Center + Email Resmi – Proporsional & Tidak Menonjol) -->
      <div class="lg:col-span-4">
        <h3 class="text-lg font-bold text-white mb-6">Hubungi Kami</h3>
        <div class="space-y-5 text-gray-400">
          <!-- WhatsApp / Call Center -->
          <div class="flex items-center gap-4">
            <div class="w-11 h-11 bg-orange-500/20 rounded-xl flex items-center justify-center">
              <i class="fab fa-whatsapp text-orange-300 text-xl"></i>
            </div>
            <div>
              <p class="text-sm text-gray-500">WhatsApp & Telepon</p>
              <a href="tel:+6281234567890" class="text-lg font-semibold text-white hover:text-white-100  transition">
                0812-3456-7890
              </a>
            </div>
          </div>

          <!-- Email Resmi -->
          <div class="flex items-center gap-4">
            <div class="w-11 h-11 bg-orange-500/20 rounded-xl flex items-center justify-center">
              <i class="fas fa-envelope text-orange-300 text-xl"></i>
            </div>
            <div>
              <p class="text-sm text-gray-500">Email Resmi</p>
              <a href="mailto:halo@dunnak.com" class="text-lg font-semibold text-white hover:text-white-100 transition">
                halo@dunnak.com
              </a>
            </div>
          </div>

          <!-- Alamat -->
          <div class="flex items-start gap-4 mt-6 pt-5 border-t border-rose-700">
            <div class="w-11 h-11 bg-orange-500/20 rounded-xl flex items-center justify-center flex-shrink-0">
              <i class="fas fa-map-marker-alt text-orange-300 text-xl"></i>
            </div>
            <div>
              <p class="text-sm text-gray-500">Dunnak Outpost</p>
              <p class="text-white font-medium">
                Jl. Raya Gununglangit, Kalibening<br>Banjarnegara, Jawa Tengah 53474
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Copyright Bar -->
    <div class="mt-16 pt-10 border-t border-gray-800 text-center">
      <p class="text-gray-500">
        © 2025 <span class="text-white-100 font-bold">PT.DERVO DIGITAL NIAGA</p>
      <p class="text-gray-600 text-xs mt-2">
        Startup lokal • Teknologi untuk kuliner Indonesia
      </p>
    </div>
  </div>
</footer>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- PRODUCT MODAL -->
  <div id="modal-produk" class="fixed inset-0 hidden z-50 flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/40" onclick="closeModal()"></div>
    <div class="relative bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden">
      <img id="modal-gambar" class="w-full h-48 object-cover" src="" alt="gambar produk" />
      <div class="p-4">
        <div class="flex items-start justify-between gap-3">
          <div>
            <h2 id="modal-nama" class="text-lg font-semibold"></h2>
            <p id="modal-merchant" class="text-xs text-gray-500 mt-1"></p>
          </div>
          <div class="text-right">
            <div id="modal-harga" class="text-lg font-bold text-rose-600"></div>
            <div id="modal-kategori" class="text-xs text-gray-400"></div>
          </div>
        </div>
        <p id="modal-deskripsi" class="mt-3 text-sm text-gray-600"></p>
        <div class="mt-3 flex items-center gap-2">
          <label class="text-xs text-gray-600">Quantity</label>
          <div class="flex items-center border border-gray-200 rounded-md">
            <button id="decrease-quantity" class="px-3 py-1 text-gray-600 hover:bg-gray-100">-</button>
            <span id="modal-quantity" class="px-3 py-1 text-sm">1</span>
            <button id="increase-quantity" class="px-3 py-1 text-gray-600 hover:bg-gray-100">+</button>
          </div>
        </div>
        <div class="mt-4 grid grid-cols-2 gap-2">
          <button onclick="openCheckout()" class="col-span-2 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-500">Pesan Sekarang</button>
          <button onclick="closeModal()" class="col-span-2 border border-gray-200 py-2 rounded-lg hover:bg-gray-100">Tutup</button>
        </div>
      </div>
    </div>
  </div>
  <!-- CHECKOUT MODAL -->
  <div id="modal-checkout" class="fixed inset-0 hidden z-50 flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-black/40" onclick="closeCheckout()"></div>
    <div class="relative bg-white rounded-xl shadow-xl max-w-md w-full overflow-hidden p-4">
      <h3 class="text-lg font-semibold">Pesanan Saya</h3>
      <p class="text-xs text-gray-500">Isi data lengkap untuk proses order</p>
       <b class="text-xs text-green-700">Belum termasuk ongkir!</b>
      <div class="mt-3 space-y-3">
        <div>
          <label class="text-xs text-gray-600">Nama Lengkap</label>
          <input id="input-nama" required type="text" placeholder="contoh hafis" class="w-full border border-gray-200 rounded-md px-3 py-2 mt-1 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500" />
        </div>
        <div>
          <label class="text-xs text-gray-600">Alamat (RT/RW)</label>
          <input id="input-alamat" required type="text" placeholder="Jl. contoh No 1, RT 04 / RW 02" class="w-full border border-gray-200 rounded-md px-3 py-2 mt-1 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500" />
        </div>
        <div>
          <label class="text-xs text-gray-600">Nomor WhatsApp</label>
          <input id="input-hp" required type="tel" placeholder="0812xxxx" class="w-full border border-gray-200 rounded-md px-3 py-2 mt-1 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-500" />
        </div>
        <div id="checkout-summary" class="text-sm text-gray-700 bg-gray-50 p-3 rounded-md"></div>
      </div>
      <div class="mt-4 flex gap-2">
        <button onclick="handleCheckout()" class="flex-1 bg-orange-500 text-white py-2 rounded-md hover:bg-orange-500">Proses</button>
        <button onclick="closeCheckout()" class="flex-1 border border-gray-200 py-2 rounded-md hover:bg-gray-100">Batal</button>
      </div>
    </div>
  </div>
  <!-- SMALL TOAST -->
  <div id="toast" class="fixed hidden"></div>
  <!-- SCRIPT -->
  <script>
    const SUPABASE_URL = "https://dlnenwglsmfyhdysmqdc.supabase.co";
    const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsbmVud2dsc21meWhkeXNtcWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxMTM5ODIsImV4cCI6MjA3MTY4OTk4Mn0.oWKClbQFN5RDS_MkFkPFbwel-LBmD8iGJX1KxN3Db0U";
    if (!SUPABASE_URL || !SUPABASE_ANON) {
      showToast("Konfigurasi Supabase tidak lengkap. Hubungi admin.", "error");
      throw new Error("Supabase credential belum diisi. Ganti SUPABASE_URL dan SUPABASE_ANON.");
    }
    const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON);
    let produkData = [];
    let operatorData = [];
    let adsData = [];
    let kategoriSet = new Set();
    let selectedProduk = null;
    let selectedQuantity = 1;
    const WA_INDEX_KEY = "wa_rotation_index";
    function getWaIndex() {
      const v = parseInt(localStorage.getItem(WA_INDEX_KEY) || "0", 10);
      return isNaN(v) ? 0 : v;
    }
    function bumpWaIndex() {
      const next = getWaIndex() + 1;
      localStorage.setItem(WA_INDEX_KEY, String(next));
      return next;
    }
    function rupiah(num) {
      if (num == null || isNaN(num)) {
        showToast("Harga produk tidak valid.", "error");
        return "Rp0";
      }
      return "Rp" + Number(num).toLocaleString("id-ID");
    }
    function showToast(text, type = "success", duration = 3000) {
      const toast = document.getElementById("toast");
      const icon = type === "success" ? '<i class="fas fa-check-circle"></i>' : '<i class="fas fa-exclamation-circle"></i>';
      toast.innerHTML = `${icon} ${text}`;
      toast.className = `fixed ${type} show`;
      setTimeout(() => {
        toast.classList.remove("show");
        setTimeout(() => {
          toast.className = "fixed hidden";
          toast.innerHTML = "";
        }, 300);
      }, duration);
    }
    // MOBILE SIDEBAR
    const sidebar = document.getElementById("mobile-sidebar");
    const backdrop = document.getElementById("sidebar-backdrop");
    document.getElementById("mobile-menu-btn").addEventListener("click", () => {
      try {
        sidebar.classList.toggle("translate-x-full");
        backdrop.classList.toggle("open");
        document.body.classList.toggle("sidebar-open");
      } catch (e) {
        showToast("Gagal membuka menu. Coba lagi.", "error");
        console.error("Sidebar toggle failed", e);
      }
    });
    document.getElementById("close-sidebar").addEventListener("click", () => {
      try {
        sidebar.classList.add("translate-x-full");
        backdrop.classList.remove("open");
        document.body.classList.remove("sidebar-open");
      } catch (e) {
        showToast("Gagal menutup menu. Coba lagi.", "error");
        console.error("Sidebar close failed", e);
      }
    });
    document.getElementById("sidebar-backdrop").addEventListener("click", () => {
      try {
        sidebar.classList.add("translate-x-full");
        backdrop.classList.remove("open");
        document.body.classList.remove("sidebar-open");
      } catch (e) {
        showToast("Gagal menutup menu. Coba lagi.", "error");
        console.error("Sidebar backdrop close failed", e);
      }
    });
    // QUANTITY CONTROLS
    document.getElementById("increase-quantity").addEventListener("click", () => {
      try {
        if (selectedQuantity >= 100) {
          showToast("Jumlah pesanan maksimal 100.", "error");
          return;
        }
        selectedQuantity++;
        document.getElementById("modal-quantity").innerText = selectedQuantity;
      } catch (e) {
        showToast("Gagal menambah jumlah pesanan.", "error");
        console.error("Increase quantity failed", e);
      }
    });
    document.getElementById("decrease-quantity").addEventListener("click", () => {
      try {
        if (selectedQuantity <= 1) {
          showToast("Jumlah pesanan minimal 1.", "error");
          return;
        }
        selectedQuantity--;
        document.getElementById("modal-quantity").innerText = selectedQuantity;
      } catch (e) {
        showToast("Gagal mengurangi jumlah pesanan.", "error");
        console.error("Decrease quantity failed", e);
      }
    });
    // SLIDER LOGIC
    const sliderItems = document.querySelectorAll('.slider-item');
    const sliderDotsContainer = document.querySelector('.slider-dots');
    let currentSlide = 0;
    function createSliderDots() {
      sliderItems.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('slider-dot');
        if (index === 0) dot.classList.add('active');
        dot.addEventListener('click', () => goToSlide(index));
        sliderDotsContainer.appendChild(dot);
      });
    }
    function updateSlider() {
      sliderItems.forEach((item, index) => {
        item.classList.toggle('active', index === currentSlide);
      });
      document.querySelectorAll('.slider-dot').forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }
    function goToSlide(index) {
      currentSlide = (index + sliderItems.length) % sliderItems.length;
      updateSlider();
    }
    setInterval(() => goToSlide(currentSlide + 1), 5000);
    createSliderDots();
    // SHUFFLE FUNCTION
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }
    // LOAD DATA
    async function loadData() {
      try {
        const { data: produk, error: err1 } = await supabaseClient
          .from("produk")
          .select("id,nama,deskripsi,harga,gambar,merchant,alamat,kategori")
          .order("id", { ascending: true });
        if (err1) {
          showToast("Gagal memuat data produk. Coba lagi nanti.", "error");
          throw new Error("Error fetch produk: " + err1.message);
        }
        const { data: msgs, error: err2 } = await supabaseClient
          .from("message")
          .select("id,nomor")
          .order("id", { ascending: true });
        if (err2) {
          showToast("Gagal memuat data operator. Coba lagi nanti.", "error");
          throw new Error("Error fetch message: " + err2.message);
        }
        produkData = shuffleArray(produk || []);
        operatorData = (msgs || []).map(m => {
          const nomor = String(m.nomor).replace(/\D/g, "");
          if (!nomor) {
            showToast("Nomor operator tidak valid.", "error");
          }
          return { id: m.id, nomor };
        });
        if (!produkData.length) {
          showToast("Tidak ada produk tersedia.", "error");
        }
        if (!operatorData.length) {
          showToast("Tidak ada operator tersedia. Hubungi admin.", "error");
        }
        kategoriSet = new Set(produkData.map(p => p.kategori || "Umum"));
        renderCategories();
        renderProduk(produkData);
        // Load ads asynchronously
        loadAds();
      } catch (e) {
        showToast("Gagal memuat data. Periksa koneksi Anda.", "error");
        console.error("loadData failed", e);
      }
    }
    async function loadAds() {
      try {
        const { data: ads, error } = await supabaseClient
          .from("dnkwords")
          .select("id,title,description,image,link")
          .order("id", { ascending: true });
        if (error) {
          showToast("Gagal memuat iklan.", "error");
          console.error("Error fetch ads:", error.message);
          return;
        }
        adsData = shuffleArray(ads || []);
        if (!adsData.length) {
          document.getElementById("ads-grid").parentElement.style.display = 'none';
          return;
        }
        renderAds();
      } catch (e) {
        showToast("Gagal memuat iklan.", "error");
        console.error("loadAds failed", e);
      }
    }
    function renderAds() {
      try {
        const grid = document.getElementById("ads-grid");
        if (!grid) {
          showToast("Gagal menampilkan iklan.", "error");
          throw new Error("Ads-grid element not found");
        }
        grid.innerHTML = "";
        if (!adsData.length) {
          grid.innerHTML = `<div class="flex-1 text-center text-gray-500 py-8">Iklan tidak ditemukan</div>`;
          return;
        }
        for (const item of adsData) {
          if (!item || !item.id || !item.title) {
            showToast("Data iklan tidak valid.", "error");
            continue;
          }
          const card = document.createElement("article");
          card.className = "bg-white rounded-xl overflow-hidden shadow hover:shadow-lg transition cursor-pointer";
          const img = document.createElement("img");
          img.src = item.image || "https://via.placeholder.com/200x150?text=No+Image";
          img.alt = item.title || "Iklan";
          img.className = "h-40 w-full object-cover";
          img.onerror = () => { img.src = "https://via.placeholder.com/200x150?text=No+Image"; };
          const label = document.createElement("span");
          label.className = "ad-label";
          label.innerText = "Iklan";
          const body = document.createElement("div");
          body.className = "p-3";
          const title = document.createElement("h3");
          title.className = "text-sm font-semibold";
          title.innerText = item.title || "—";
          const description = document.createElement("p");
          description.className = "text-xs text-gray-500 mt-1";
          description.innerText = item.description || "";
          const btn = document.createElement("a");
          btn.href = item.link || "#";
          btn.target = "_blank";
          btn.className = "text-xs bg-green-700 text-white px-3 py-1 rounded-md hover:bg-green-700";
          btn.innerText = "Detail";
          body.appendChild(label);
          body.appendChild(title);
          body.appendChild(description);
          body.appendChild(btn);
          card.appendChild(img);
          card.appendChild(body);
          grid.appendChild(card);
        }
      } catch (e) {
        showToast("Gagal menampilkan iklan.", "error");
        console.error("renderAds failed", e);
      }
    }
    // RENDER CATEGORIES
    function renderCategories() {
      try {
        const wrap = document.getElementById("categories");
        if (!wrap) {
          showToast("Gagal menampilkan kategori.", "error");
          throw new Error("Categories element not found");
        }
        wrap.innerHTML = "";
        const btnAll = document.createElement("button");
        btnAll.className = "px-4 py-2 bg-white border border-gray-200 rounded-full text-sm whitespace-nowrap hover:bg-emerald-50";
        btnAll.innerText = "Semua";
        btnAll.onclick = () => {
          try {
            document.getElementById("price-filter").value = "";
            renderProduk(produkData);
          } catch (e) {
            showToast("Gagal menampilkan semua produk.", "error");
            console.error("Render all products failed", e);
          }
        };
        wrap.appendChild(btnAll);
        Array.from(kategoriSet).forEach(k => {
          const btn = document.createElement("button");
          btn.className = "px-4 py-2 bg-white border border-gray-200 rounded-full text-sm whitespace-nowrap hover:bg-emerald-50";
          btn.innerText = k;
          btn.onclick = () => {
            try {
              const filtered = produkData.filter(p => (p.kategori || "Umum") === k);
              applyPriceFilter(filtered);
            } catch (e) {
              showToast(`Gagal menampilkan produk kategori ${k}.`, "error");
              console.error("Render category failed", e);
            }
          };
          wrap.appendChild(btn);
        });
      } catch (e) {
        showToast("Gagal memuat kategori.", "error");
        console.error("renderCategories failed", e);
      }
    }
    // PRICE FILTER
    function applyPriceFilter(data) {
      try {
        const priceFilter = document.getElementById("price-filter").value;
        let filtered = data;
        if (priceFilter) {
          const [min, max] = priceFilter.split("-").map(Number);
          filtered = data.filter(p => {
            if (!p.harga || isNaN(p.harga)) {
              showToast(`Harga produk ${p.nama || "tidak diketahui"} tidak valid.`, "error");
              return false;
            }
            if (max) return p.harga >= min && p.harga <= max;
            return p.harga >= min;
          });
        }
        renderProduk(filtered);
      } catch (e) {
        showToast("Gagal menerapkan filter harga.", "error");
        console.error("Price filter failed", e);
      }
    }
    document.getElementById("price-filter").addEventListener("change", () => {
      try {
        applyPriceFilter(produkData);
      } catch (e) {
        showToast("Gagal menerapkan filter harga.", "error");
        console.error("Price filter failed", e);
      }
    });
    // RENDER PRODUCT GRID
    function renderProduk(list) {
      try {
        const grid = document.getElementById("produk-grid");
        if (!grid) {
          showToast("Gagal menampilkan produk.", "error");
          throw new Error("Produk-grid element not found");
        }
        grid.innerHTML = "";
        if (!list || !list.length) {
          grid.innerHTML = `<div class="flex-1 text-center text-gray-500 py-8">Produk tidak ditemukan</div>`;
          return;
        }
        for (const item of list) {
          if (!item || !item.id || !item.nama) {
            showToast("Data produk tidak valid.", "error");
            continue;
          }
          const card = document.createElement("article");
          card.className = "bg-white rounded-xl overflow-hidden shadow hover:shadow-lg transition cursor-pointer";
          const img = document.createElement("img");
          img.src = item.gambar || "https://via.placeholder.com/200x150?text=No+Image";
          img.alt = item.nama || "Produk";
          img.className = "h-40 w-full object-cover";
          img.onerror = () => { img.src = "https://via.placeholder.com/200x150?text=No+Image"; };
          const body = document.createElement("div");
          body.className = "p-3";
          const title = document.createElement("h3");
          title.className = "text-sm font-semibold";
          title.innerText = item.nama || "—";
          const merchant = document.createElement("p");
          merchant.className = "text-xs text-gray-500 mt-1";
          merchant.innerText = item.merchant || "";
          const row = document.createElement("div");
          row.className = "mt-3 flex items-center justify-between gap-2";
          const price = document.createElement("div");
          price.className = "text-sm font-bold text-rose-600";
          price.innerText = rupiah(item.harga);
          const btn = document.createElement("button");
          btn.className = "text-xs bg-orange-500 text-white px-3 py-1 rounded-md hover:bg-orange-500";
          btn.innerText = "Beli";
          btn.onclick = (e) => {
            try {
              e.stopPropagation();
              openModal(item);
            } catch (e) {
              showToast("Gagal membuka detail produk.", "error");
              console.error("Open modal failed", e);
            }
          };
          row.appendChild(price);
          row.appendChild(btn);
          body.appendChild(title);
          body.appendChild(merchant);
          body.appendChild(row);
          card.appendChild(img);
          card.appendChild(body);
          card.addEventListener("click", () => {
            try {
              openModal(item);
            } catch (e) {
              showToast("Gagal membuka detail produk.", "error");
              console.error("Open modal failed", e);
            }
          });
          grid.appendChild(card);
        }
      } catch (e) {
        showToast("Gagal menampilkan produk.", "error");
        console.error("renderProduk failed", e);
      }
    }
    // SEARCH
    function performSearch() {
      try {
        const v = document.getElementById("search").value.trim().toLowerCase();
        if (!v) {
          applyPriceFilter(produkData);
          return;
        }
        if (v.length < 2) {
          showToast("Masukkan kata kunci", "error");
          return;
        }
        const filtered = produkData.filter(p =>
          (p.nama || "").toLowerCase().includes(v) ||
          (p.deskripsi || "").toLowerCase().includes(v) ||
          (p.merchant || "").toLowerCase().includes(v) ||
          (p.kategori || "").toLowerCase().includes(v)
        );
        applyPriceFilter(filtered);
      } catch (e) {
        showToast("Gagal melakukan pencarian.", "error");
        console.error("Search failed", e);
      }
    }
    document.getElementById("search").addEventListener("input", performSearch);
    document.getElementById("search-button").addEventListener("click", performSearch);
    // MODAL CONTROLS
    function openModal(item) {
      try {
        if (!item || !item.id || !item.nama) {
          showToast("Data produk tidak valid.", "error");
          return;
        }
        selectedProduk = item;
        selectedQuantity = 1;
        const modal = document.getElementById("modal-produk");
        if (!modal) {
          showToast("Gagal membuka detail produk.", "error");
          throw new Error("Modal-produk element not found");
        }
        document.getElementById("modal-gambar").src = item.gambar || "https://via.placeholder.com/200x150?text=No+Image";
        document.getElementById("modal-gambar").onerror = () => { document.getElementById("modal-gambar").src = "https://via.placeholder.com/200x150?text=No+Image"; };
        document.getElementById("modal-nama").innerText = item.nama || "—";
        document.getElementById("modal-merchant").innerText = item.merchant || "—";
        document.getElementById("modal-deskripsi").innerText = item.deskripsi || "Tidak ada deskripsi.";
        document.getElementById("modal-harga").innerText = rupiah(item.harga);
        document.getElementById("modal-kategori").innerText = item.kategori || "Umum";
        document.getElementById("modal-quantity").innerText = selectedQuantity;
        modal.classList.remove("hidden");
        document.body.classList.add("modal-open");
      } catch (e) {
        showToast("Gagal membuka detail produk.", "error");
        console.error("openModal failed", e);
      }
    }
    function closeModal() {
      try {
        const modal = document.getElementById("modal-produk");
        if (!modal) {
          showToast("Gagal menutup detail produk.", "error");
          throw new Error("Modal-produk element not found");
        }
        modal.classList.add("hidden");
        document.body.classList.remove("modal-open");
      } catch (e) {
        showToast("Gagal menutup detail produk.", "error");
        console.error("closeModal failed", e);
      }
    }
    function openCheckout() {
      try {
        if (!selectedProduk) {
          showToast("Pilih produk terlebih dahulu.", "error");
          return;
        }
        if (selectedQuantity < 1) {
          showToast("Jumlah pesanan minimal 1.", "error");
          return;
        }
        const sum = document.getElementById("checkout-summary");
        if (!sum) {
          showToast("Gagal menampilkan ringkasan pesanan.", "error");
          throw new Error("Checkout-summary element not found");
        }
        sum.innerHTML = `
          <div class="font-semibold">${selectedProduk.nama || "—"}</div>
          <div class="text-xs text-gray-500">${selectedProduk.merchant || "—"} • ${selectedProduk.alamat || "—"}</div>
          <div class="mt-2">Jumlah: ${selectedQuantity}</div>
          <div class="mt-2 text-rose-600 font-bold">Total: ${rupiah(selectedProduk.harga * selectedQuantity)}</div>
        `;
        document.getElementById("input-nama").value = "";
        document.getElementById("input-alamat").value = "";
        document.getElementById("input-hp").value = "";
        closeModal();
        const modalCheckout = document.getElementById("modal-checkout");
        if (!modalCheckout) {
          showToast("Gagal membuka form checkout.", "error");
          throw new Error("Modal-checkout element not found");
        }
        modalCheckout.classList.remove("hidden");
        document.body.classList.add("modal-open");
      } catch (e) {
        showToast("Gagal membuka form checkout.", "error");
        console.error("openCheckout failed", e);
      }
    }
    function closeCheckout() {
      try {
        const modalCheckout = document.getElementById("modal-checkout");
        if (!modalCheckout) {
          showToast("Gagal menutup form checkout.", "error");
          throw new Error("Modal-checkout element not found");
        }
        modalCheckout.classList.add("hidden");
        document.body.classList.remove("modal-open");
      } catch (e) {
        showToast("Gagal menutup form checkout.", "error");
        console.error("closeCheckout failed", e);
      }
    }
    function normalizeHp(raw) {
      try {
        if (!raw) {
          showToast("Nomor HP wajib diisi.", "error");
          return "";
        }
        let s = String(raw).trim().replace(/\s+/g, "");
        s = s.replace(/^(\+62|62)/, "0");
        if (s.startsWith("0")) return "62" + s.slice(1);
        if (s.startsWith("62")) return s;
        return s;
      } catch (e) {
        showToast("Gagal memproses nomor HP.", "error");
        console.error("normalizeHp failed", e);
        return "";
      }
    }
    async function insertOrderToSupabase(orderData) {
      try {
        if (!orderData || !orderData.produk_id || !orderData.nama_pelanggan) {
          showToast("Data pesanan tidak lengkap.", "error");
          throw new Error("Invalid order data");
        }
        const { error } = await supabaseClient
          .from("orders")
          .insert([orderData]);
        if (error) {
          showToast("Gagal memproses pesanan", "error");
          throw new Error("Error inserting order: " + error.message);
        }
        return true;
      } catch (e) {
        showToast("Gagal menyimpan pesanan ke database.", "error");
        console.error("insertOrderToSupabase failed", e);
        return false;
      }
    }
    async function handleCheckout() {
      try {
        const nama = document.getElementById("input-nama")?.value.trim();
        const alamat = document.getElementById("input-alamat")?.value.trim();
        const hpRaw = document.getElementById("input-hp")?.value.trim();
        if (!nama || !alamat || !hpRaw) {
          showToast("Error, harap isi semua", "error");
          return;
        }
        if (nama.length < 2) {
          showToast("Nama harus minimal 2 karakter.", "error");
          return;
        }
        if (!/^[a-zA-Z\s]+$/.test(nama)) {
          showToast("Nama hanya boleh berisi huruf dan spasi.", "error");
          return;
        }
        if (alamat.length < 5) {
          showToast("Alamat harus minimal 5 karakter.", "error");
          return;
        }
        const hp = normalizeHp(hpRaw);
        if (!hp.match(/^(\+62|62|0)\d{9,12}$/)) {
          showToast("Nomor HP tidak valid. Gunakan format 0812xxxx.", "error");
          return;
        }
        if (!selectedProduk) {
          showToast("Produk tidak tersedia. Pilih produk terlebih dahulu.", "error");
          return;
        }
        if (!operatorData.length) {
          showToast("Tidak ada nomor operator. Hubungi admin.", "error");
          return;
        }
        const idx = getWaIndex() % operatorData.length;
        bumpWaIndex();
        const operator = operatorData[idx];
        if (!operator || !operator.nomor) {
          showToast("Nomor operator tidak valid. Hubungi admin.", "error");
          return;
        }
        const totalHarga = selectedProduk.harga * selectedQuantity;
        const orderData = {
          produk_id: selectedProduk.id,
          produk_nama: selectedProduk.nama,
          harga: selectedProduk.harga,
          jumlah: selectedQuantity,
          total: totalHarga,
          nama_pelanggan: nama,
          alamat,
          nomor_hp: hpRaw,
          operator_nomor: operator.nomor,
          created_at: new Date().toISOString()
        };
        const saved = await insertOrderToSupabase(orderData);
        if (!saved) return;
        const list = [
          `Halo kak, saya ingin pesan produk:`,
          `Nama: ${nama}`,
          `Alamat: ${alamat}`,
          `HP: ${hpRaw}`,
          `Merchant: ${selectedProduk.merchant || "-"}`,
          `Produk: ${selectedProduk.nama || "-"} (${selectedProduk.kategori || "-"})`,
          `Jumlah: ${selectedQuantity}`,
          `Harga Satuan: ${rupiah(selectedProduk.harga)}`,
          `Total Harga: ${rupiah(totalHarga)}`,
          `---`,
          `*note : Admin akan menghubungi anda via panggilan telepon untuk konfirmasi pesanan*`
        ];
        const text = encodeURIComponent(list.join("\n"));
        const waNumber = String(operator.nomor).replace(/\D/g, "");
        if (!waNumber) {
          showToast("Nomor operator tidak valid.", "error");
          return;
        }
        const url = `https://wa.me/${waNumber}?text=${text}`;
        window.open(url, "_blank");
        try {
          const history = JSON.parse(localStorage.getItem("orders") || "[]");
          history.unshift({
            produkId: selectedProduk.id,
            produkNama: selectedProduk.nama,
            harga: selectedProduk.harga,
            jumlah: selectedQuantity,
            total: totalHarga,
            nama,
            alamat,
            hp: hpRaw,
            operator: waNumber,
            ts: new Date().toISOString()
          });
          localStorage.setItem("orders", JSON.stringify(history.slice(0, 50)));
        } catch (e) {
          showToast("Gagal menyimpan riwayat pesanan lokal.", "error");
          console.error("Local storage save failed", e);
        }
        closeCheckout();
        showToast("Pesanan berhasil diproses! Mengarahkan ke WhatsApp admin", "success");
      } catch (e) {
        showToast("Gagal memproses checkout. Coba lagi.", "error");
        console.error("handleCheckout failed", e);
      }
    }
    // HERO AND CTA ACTION SCROLL
    function scrollToProductGrid() {
      try {
        const grid = document.getElementById("produk-grid");
        if (!grid) {
          showToast("Gagal menavigasi ke daftar produk.", "error");
          throw new Error("Produk-grid element not found");
        }
        grid.scrollIntoView({ behavior: "smooth", block: "start" });
      } catch (e) {
        showToast("Gagal menavigasi ke daftar produk.", "error");
        console.error("Scroll to product grid failed", e);
      }
    }
    document.getElementById("hero-action-1")?.addEventListener("click", scrollToProductGrid);
    document.getElementById("hero-action-2")?.addEventListener("click", scrollToProductGrid);
    document.getElementById("hero-action-3")?.addEventListener("click", scrollToProductGrid);
    document.getElementById("cta-button")?.addEventListener("click", scrollToProductGrid);
    // ACCESSIBILITY
    document.addEventListener("keydown", (e) => {
      try {
        if (e.key === "Escape") {
          closeModal();
          closeCheckout();
          sidebar.classList.add("translate-x-full");
          backdrop.classList.remove("open");
          document.body.classList.remove("sidebar-open");
        }
      } catch (e) {
        showToast("Gagal menutup modal atau menu.", "error");
        console.error("Escape key handler failed", e);
      }
    });
    // INPUT VALIDATION
    document.getElementById("input-nama").addEventListener("input", (e) => {
      const value = e.target.value.trim();
      if (value.length > 50) {
        e.target.value = value.slice(0, 50);
        showToast("Nama maksimal 50 karakter.", "error");
      }
      if (value && !/^[a-zA-Z\s]+$/.test(value)) {
        showToast("Nama hanya boleh berisi huruf dan spasi.", "error");
      }
    });
    document.getElementById("input-alamat").addEventListener("input", (e) => {
      const value = e.target.value.trim();
      if (value.length > 100) {
        e.target.value = value.slice(0, 100);
        showToast("Alamat maksimal 100 karakter.", "error");
      }
    });
    document.getElementById("input-hp").addEventListener("input", (e) => {
      const value = e.target.value.trim();
      if (value.length > 15) {
        e.target.value = value.slice(0, 15);
        showToast("Nomor HP maksimal 15 karakter.", "error");
      }
      if (value && !/^\+?\d*$/.test(value)) {
        showToast("Nomor HP hanya boleh berisi angka dan tanda +.", "error");
      }
    });
    // INIT
    try {
      loadData();
    } catch (e) {
      showToast("Gagal memulai aplikasi. Periksa koneksi Anda.", "error");
      console.error("Initialization failed", e);
    }
  </script>
</body>
</html>
